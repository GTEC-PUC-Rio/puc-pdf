<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ferramenta completa de PDF - PUC PDF</title>
  <link rel="icon" type="image/x-icon" href="%BASE_URL%images/puc-favicon.ico" />

  <style>
    body[data-loading] {
      visibility: hidden;
    }
    /* Hide scrollbar for toolbar overflow */
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }

    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
  <script>
    (function () {
      const reveal = () => document.body?.removeAttribute('data-loading');
      window.addEventListener('DOMContentLoaded', reveal, { once: true });
      window.addEventListener('load', reveal, { once: true });
      window.setTimeout(reveal, 3000);
    })();
  </script>
</head>

<body class="antialiased bg-gray-900 h-screen overflow-hidden" data-loading="true">

  <!-- Navigation -->
  <nav class="bg-gray-800 border-b border-gray-700 sticky top-0 z-30">
    <div class="container mx-auto px-4 h-16 flex items-center justify-between">
      <div class="flex items-center">
        <img src="%BASE_URL%images/logo-puc.png" alt="Logo da PUC-Rio" class="h-8 w-auto" />
        <div class="ml-3">
          <p id="nav-brand" class="text-white font-bold text-lg leading-tight">PUC PDF</p>
          <p id="nav-tagline" class="text-gray-400 text-sm leading-tight">Ferramentas privadas de PDF da PUC-Rio</p>
        </div>
      </div>
      <button id="close-tool-btn" class="flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded text-sm">
        <i data-lucide="x" class="w-4 h-4"></i> <span id="close-tool-btn-label">Fechar</span>
      </button>
    </div>
  </nav>


  <!-- Main Container -->
  <div class="flex flex-col h-[calc(100vh-4rem)]">

    <!-- Toolbar -->
    <div class="bg-gray-800 border-b border-gray-700 p-2 sm:p-3 overflow-x-auto scrollbar-hide">
      <div
        class="flex flex-wrap items-center justify-center sm:justify-start gap-2 bg-gray-900 p-2 sm:p-4 rounded-lg w-full">

        <!-- Upload -->
        <button id="upload-pdfs-btn"
          class="flex items-center gap-1 sm:gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="upload" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="upload-pdfs-btn-label" class="hidden sm:inline">Enviar PDFs</span>
          <span id="upload-pdfs-btn-short" class="sm:hidden">Enviar</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>

        <!-- Add Blank -->
        <button id="add-blank-page-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="file-plus" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="add-blank-page-label" class="hidden sm:inline">Adicionar página em branco</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>
        <span id="toolbar-edit-label" class="text-gray-400 text-xs sm:text-sm hidden md:inline">Edição:</span>


        <!-- Desfazer / Refazer / Reiniciar -->
        <button id="undo-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="rotate-ccw" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="undo-btn-label" class="hidden lg:inline">Desfazer</span>
        </button>

        <button id="redo-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="rotate-cw" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="redo-btn-label" class="hidden lg:inline">Refazer</span>
        </button>

        <button id="reset-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="refresh-ccw" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="reset-btn-label" class="hidden lg:inline">Reiniciar</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>

        <!-- Selection -->
        <span id="toolbar-selection-label" class="text-gray-400 text-xs sm:text-sm hidden md:inline">Seleção:</span>

        <button id="select-all-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="check-square" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="select-all-btn-label" class="hidden lg:inline">Selecionar tudo</span>
        </button>

        <button id="deselect-all-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="square" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="deselect-all-btn-label" class="hidden lg:inline">Limpar seleção</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>

        <!-- Rotate -->
        <span id="toolbar-rotate-label" class="text-gray-400 text-xs sm:text-sm hidden md:inline">Girar:</span>
        <button id="bulk-rotate-left-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="rotate-ccw" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="bulk-rotate-left-label" class="hidden xl:inline">Esquerda</span>
        </button>

        <button id="bulk-rotate-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="rotate-cw" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="bulk-rotate-right-label" class="hidden xl:inline">Direita</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>

        <!-- Duplicar / Dividir -->
        <button id="bulk-duplicate-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="copy" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="bulk-duplicate-btn-label" class="hidden xl:inline">Duplicar</span>
        </button>

        <button id="bulk-split-btn"
          class="flex items-center gap-1 sm:gap-2 bg-gray-700 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="scissors" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="bulk-split-btn-label" class="hidden xl:inline">Dividir</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>
        <span id="toolbar-cleanup-label" class="text-gray-400 text-xs sm:text-sm hidden md:inline">Limpar:</span>


        <!-- Excluir -->
        <button id="bulk-delete-btn"
          class="flex items-center gap-1 sm:gap-2 bg-red-500 hover:bg-red-700 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="trash-2" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="bulk-delete-btn-label" class="hidden xl:inline">Excluir</span>
        </button>

        <div class="border-l border-gray-600 h-5 sm:h-6 mx-1"></div>

        <!-- Download -->
        <span id="toolbar-download-label" class="text-gray-400 text-xs sm:text-sm hidden md:inline">Baixar:</span>
        <button id="bulk-download-btn"
          class="flex items-center gap-1 sm:gap-2 bg-green-600 hover:bg-green-700 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="download" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="bulk-download-btn-label" class="hidden xl:inline">Baixar selecionados</span>
        </button>

        <button id="export-pdf-btn"
          class="flex items-center gap-1 sm:gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 md:py-2 rounded text-xs sm:text-sm md:text-base">
          <i data-lucide="download" class="w-3 h-3 sm:w-4 sm:h-4"></i>
          <span id="export-pdf-btn-label" class="hidden xl:inline">Exportar PDF</span>
        </button>
      </div>
    </div>

    <!-- Content Area -->
    <div class="flex-1 overflow-auto p-3 sm:p-4">
      <div id="upload-area"
        class="hidden border-2 border-dashed border-gray-600 rounded-lg p-6 sm:p-12 text-center max-w-full">
        <i data-lucide="upload-cloud" class="w-12 h-12 sm:w-16 sm:h-16 mx-auto text-gray-400 mb-3 sm:mb-4"></i>
        <p id="upload-area-title" class="text-gray-300 text-base sm:text-lg mb-1 sm:mb-2">Envie arquivos PDF</p>
        <p id="upload-area-description" class="text-gray-400 text-xs sm:text-sm mb-3 sm:mb-4">Arraste PDFs para cá ou clique para selecionar</p>
        <input type="file" id="pdf-file-input" accept="application/pdf" multiple class="hidden">
        <button onclick="document.getElementById('pdf-file-input').click()"
          class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 sm:px-6 py-2 rounded text-sm sm:text-base">
          <span id="upload-area-cta">Selecionar arquivos</span>
        </button>
      </div>

      <div id="pages-container"
        class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4"></div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="hidden fixed inset-0 bg-black/80 z-50 flex items-center justify-center">
    <div class="bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4">
      <div class="flex items-center justify-center mb-4">
        <i data-lucide="loader" class="w-12 h-12 text-indigo-400 animate-spin"></i>
      </div>
      <p id="loading-text" class="text-white text-center text-lg mb-4">Gerando visualização das páginas...</p>
      <div class="w-full bg-gray-700 rounded-full h-2.5">
        <div id="loading-progress" class="bg-indigo-600 h-2.5 rounded-full transition-all duration-300"
          style="width: 0%"></div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="hidden fixed inset-0 bg-black/80 z-50 flex items-center justify-center">
    <div class="bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4 border border-gray-700">
      <div class="flex items-center justify-center mb-4">
        <div id="modal-icon"></div>
      </div>
      <h3 id="modal-title" class="text-xl font-bold text-white text-center mb-2"></h3>
      <p id="modal-message" class="text-gray-300 text-center mb-6"></p>
      <button id="modal-close-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded">Fechar</button>
    </div>
  </div>

  <!-- Hidden File Input -->
  <input type="file" id="insert-pdf-input" accept="application/pdf" class="hidden">

  <!-- Scripts -->
  <script type="module" src="../js/utils/lucide-init.ts"></script>
  <script type="module" src="../js/logic/pdf-multi-tool.ts"></script>
</body>

</html>
